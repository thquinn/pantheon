<!DOCTYPE html>
<html>
	<head>
		<title>Pantheon Wiki</title>
		<style>
			@import url('https://fonts.googleapis.com/css2?family=Caladea:ital,wght@0,400;0,700;1,400&family=Calistoga&display=swap');
			html {
				font-family: 'Caladea', serif;
				font-size: 16px;
			}
			body { background-color: #222; }
			p { text-indent: 40px; }
			#wrapper { text-align: center; }
			#contents {
				display: inline-block;
				padding: 30px 40px 30px 40px;
				text-align: left;
				background-color: #EEE;
				margin-top: 100px;
				width: 800px;
				min-height: 400px;
				border-radius: 40px;
				border-color: #444;
				border-style: solid;
				border-width: 6px;
			}
			#title {
				font-family: 'Calistoga', cursive;
				font-size: 44px;
			}
			#text {
				padding: 0 40px 0 40px;
			}
		</style>
		<!-- Populate article -->
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.0/showdown.min.js"></script>
		<script type="text/javascript">
			function getQueryStringValue(key) {  
			  return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]" + encodeURIComponent(key).replace(/[\.\+\*]/g, "\\$&") + "(?:\\=([^&]*))?)?.*$", "i"), "$1"));  
			}  
			var client = new XMLHttpRequest();
			client.open('GET', getQueryStringValue("article") + ".md");
			client.onreadystatechange = function() {
			  var converter = new showdown.Converter({noHeaderId: true, headerLevelStart: 2, simpleLineBreaks: true, parseImgDimensions: true});
			  document.getElementById("text").innerHTML = converter.makeHtml(client.responseText);
			  document.title = "Pantheon Wiki: " + client.responseText.substr(2, client.responseText.indexOf("\n") - 2);
			}
			client.onerror = function() {
			  window.location.href = "?article=test";
			}
			client.send();
		</script>
	</head>
	<body>
		<div id="wrapper">
			<div id="contents">
				<div id="title">
					Pospathiakel
				</div>
				<div id="text" />
			</div>
		</div>
	</body>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.0/showdown.min.js"></script>
</html>